---
title: XPS13安装win10&ubuntu双系统
date: 2017-03-25 15:57:12
tags: ubuntu
---
这几天被安装双系统折腾得够呛，昨天终于安装成功，所以撰写此文以备忘。安装和启动方式均为UEFI，进行以下操作时先进行数据备份！博主电脑为Dell XPS13 9350，不同电脑进入BIOS快捷键可能不一样，请自行百度。
## 安装win10
win10选择的是家庭中文版1607 64bit，因为序列号是烧在主板上的，所以安装完联网就自动激活了，而且对于我来说家庭版和专业版没有太大区别...win10镜像文件下载地址：[http://pan.baidu.com/s/1dF3Q8Id](http://pan.baidu.com/s/1dF3Q8Id)，下载后用UltraISO将镜像文件刻录到U盘里：

1.打开UltralISO，选择文件→打开，选中下载好的win10镜像文件：
<!--more-->
![24404016-file_1490419840329_12930.png](img/24404016-file_1490419840329_12930.png)

2.选择启动→写入硬盘映像，硬盘驱动器选择插入的U盘：

![29433041-file_1490420080326_116ac.png](img/29433041-file_1490420080326_116ac.png)

3.点击便捷启动→写入新的驱动器引导扇区→Windows9x，弹出框：

![58783091-file_1490420227515_138d0.png](img/58783091-file_1490420227515_138d0.png)

4.点击确定，然后点击写入，等待写入完毕。

写入完毕后重启电脑，出现品牌Logo的时候按F2进如BIOS设置界面。进行如下设置：

• 将Security Boot 设置为Disabled

• 启动方式设置为UEFI   

保存设置重启电脑，出现品牌Logo的时候按F12进入启动选择界面，然后选择UEFI模式下的U盘选项，接下来根据提示操作即可。

安装途中，可能出现无法将windows安装到磁盘0的分区1错误提示，解决办法为：

1. 按住“shift+f10”，呼出“cmd”命令符

2. 输入如下命令：

```bash
diskpart  //回车执行，进入diskpart命令模式
list disk  //回车执行，显示磁盘信息
select disk 0 //回车执行，选择第0个磁盘（电脑的硬盘编号是从0开始的）
clean  //回车执行，删除磁盘分区&格式化（所以说要做好备份！）
convert mbr //回车执行，将当前磁盘分区设置为mbr形式
convert gpt //回车执行，将将当前磁盘分区设置为gpt形式
exit //回车执行，退出
```
刷新磁盘，即可继续安装。

## 安装Ubuntu16.04
镜像文件在ubuntu官网下载：https://www.ubuntu.com/download/desktop。

安装前，先在win10下压缩出100GB的磁盘空间（我的磁盘大小为256GB，所以分100GB给ubuntu，保持未分配状态）。

同样使用UltralISO将ubuntu镜像文件刻录进U盘里（U盘先格式化为FAT32模式，然后刻录时写入新的驱动器引导扇区为syslinux）。

刻录完重启电脑，出现品牌Logo的时候按F12进入启动选择界面，选择UEFI模式下的U盘选项，然后Install ubuntu。

安装过程中不要选择“与其它系统共存”那一项，而选择最后那个“其它选项（创建自己的分区）”，然后选择空闲分区（就是刚刚分出来的100GB），下面依次点击新建分区表来挂载分区：

1.新建**efi系统分区**，选中**逻辑分区**和**空间起始位置**，分配512MB。

2.**挂载“/home”**，类型为**EXT4日志文件系统**，选中**逻辑分区**和**空间起始位置**，分配20GB。

3.**挂载“/usr”**，类型为**EXT4日志文件系统**，选中**逻辑分区**和**空间起始位置**，分配45GB。

4.**挂载“/”**，类型为**EXT4日志文件系统**，选中**逻辑分区**和**空间起始位置**，分配20GB。

5.**swap交换空间**，这个也就是虚拟内存的地方，选择**主分区**和**空间起始位置**，剩下的内存都分配给它。

{% note danger %}分配好各个挂载点后，选择“安装引导启动器的设备”，选择第一步创建的efi系统分区！！！！！{% endnote %}

安装成功后，拔掉U盘并且重启，出现品牌Logo的时候按F2进如BIOS设置界面开启Secure Boot，保存退出启动电脑就可以看到系统选择界面了。

最后贴两张安装好后的系统截图：

win10 

![8f6ad08d1c397149cf741e126b5b22d8.png](img/8f6ad08d1c397149cf741e126b5b22d8.png)

ubuntu：

![1656db2a38b6ef785a962c0dba0dba23.png](img/1656db2a38b6ef785a962c0dba0dba23.png)

